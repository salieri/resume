{
  "$schema": "https://json-schema.org/draft-07/schema",
  "type": "object",
  "properties": {
    "creationPolicy": {
      "type": "string",
      "description": "Secret creation policy. Defaults to `Owner` if omitted.",
      "enum": [
        "Owner",
        "Orphan",
        "Merge",
        "None"
      ]
    },
    "data": {
      "type": "array",
      "description": "Secret keys to be extracted from the remote secret",
      "items": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string",
            "description": "Key in the remote secret"
          },
          "localKey": {
            "type": "string",
            "description": "Key in the Kubernetes secret. Defaults to `key` if omitted."
          },
          "property": {
            "type": "string",
            "description": "Property field name in the remote secret. The secret is extracted as `{key}.{property}`"
          }
        },
        "required": [
          "key",
          "property"
        ]
      }
    },
    "deletionPolicy": {
      "type": "string",
      "description": "Secret deletion policy. Defaults to `Retain` if omitted.",
      "enum": [
        "Retain",
        "Delete",
        "Merge"
      ]
    },
    "kind": {
      "type": "string",
      "description": "Secret kind - `ExternalSecret` or `ClusterExternalSecret`. Defaults to `ExternalSecret` if omitted.",
      "enum": [
        "ExternalSecret",
        "ClusterExternalSecret"
      ]
    },
    "name": {
      "type": "string",
      "description": "Name of the secret resource"
    },
    "refreshInterval": {
      "type": "string",
      "description": "Determines how often the secrets are fetched from the remote store. Defaults to `PLATFORM_SECRET_STORE_REFRESH_INTERVAL` env variable"
    },
    "secretProvider": {
      "type": "string",
      "description": "Secret store provider. Must be one of External Secrets providers. Defaults to `PLATFORM_SECRET_STORE_PROVIDER` env variable.",
      "enum": [
        "onepasswordSDK",
        "aws",
        "azurekv",
        "gcpsm"
      ]
    },
    "secretStoreKind": {
      "type": "string",
      "description": "Secret store kind. Defaults to `PLATFORM_SECRET_STORE_KIND` env variable",
      "enum": [
        "ClusterSecretStore",
        "SecretStore"
      ]
    },
    "secretStoreName": {
      "type": "string",
      "description": "Name of the secret store. Defaults to `PLATFORM_SECRET_STORE_NAME` env variable."
    },
    "onePassword": {
      "type": "object",
      "description": "1Password specific configuration",
      "properties": {
        "vault": {
          "type": "string",
          "description": "Name of the 1Password vault. Defaults to `ONE_PASSWORD_VAULT` env variable."
        }
      }
    }
  },
  "required": [
    "data",
    "name"
  ]
}
